{"ast":null,"code":"import { ecdsaRecover } from 'secp256k1';\nimport { removeLeading0x, hexToUnit8Array, uint8ArrayToHex } from './util';\n/**\n * returns the publicKey for the privateKey with which the messageHash was signed\n * @param  {string} signature\n * @param  {string} hash\n * @return {string} publicKey\n */\n\nexport default function recoverPublicKey(signature, hash) {\n  signature = removeLeading0x(signature); // split into v-value and sig\n\n  var sigOnly = signature.substring(0, signature.length - 2); // all but last 2 chars\n\n  var vValue = signature.slice(-2); // last 2 chars\n\n  var recoveryNumber = vValue === '1c' ? 1 : 0;\n  var pubKey = uint8ArrayToHex(ecdsaRecover(hexToUnit8Array(sigOnly), recoveryNumber, hexToUnit8Array(removeLeading0x(hash)), false)); // remove trailing '04'\n\n  pubKey = pubKey.slice(2);\n  return pubKey;\n}","map":{"version":3,"sources":["/Users/salihcemil/Desktop/projects/ecommerce/frontend/node_modules/eth-crypto/dist/es/recover-public-key.js"],"names":["ecdsaRecover","removeLeading0x","hexToUnit8Array","uint8ArrayToHex","recoverPublicKey","signature","hash","sigOnly","substring","length","vValue","slice","recoveryNumber","pubKey"],"mappings":"AAAA,SAASA,YAAT,QAA6B,WAA7B;AACA,SAASC,eAAT,EAA0BC,eAA1B,EAA2CC,eAA3C,QAAkE,QAAlE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,gBAAT,CAA0BC,SAA1B,EAAqCC,IAArC,EAA2C;AACxDD,EAAAA,SAAS,GAAGJ,eAAe,CAACI,SAAD,CAA3B,CADwD,CAChB;;AAExC,MAAIE,OAAO,GAAGF,SAAS,CAACG,SAAV,CAAoB,CAApB,EAAuBH,SAAS,CAACI,MAAV,GAAmB,CAA1C,CAAd,CAHwD,CAGI;;AAE5D,MAAIC,MAAM,GAAGL,SAAS,CAACM,KAAV,CAAgB,CAAC,CAAjB,CAAb,CALwD,CAKtB;;AAElC,MAAIC,cAAc,GAAGF,MAAM,KAAK,IAAX,GAAkB,CAAlB,GAAsB,CAA3C;AACA,MAAIG,MAAM,GAAGV,eAAe,CAACH,YAAY,CAACE,eAAe,CAACK,OAAD,CAAhB,EAA2BK,cAA3B,EAA2CV,eAAe,CAACD,eAAe,CAACK,IAAD,CAAhB,CAA1D,EAAmF,KAAnF,CAAb,CAA5B,CARwD,CAQ6E;;AAErIO,EAAAA,MAAM,GAAGA,MAAM,CAACF,KAAP,CAAa,CAAb,CAAT;AACA,SAAOE,MAAP;AACD","sourcesContent":["import { ecdsaRecover } from 'secp256k1';\nimport { removeLeading0x, hexToUnit8Array, uint8ArrayToHex } from './util';\n/**\n * returns the publicKey for the privateKey with which the messageHash was signed\n * @param  {string} signature\n * @param  {string} hash\n * @return {string} publicKey\n */\n\nexport default function recoverPublicKey(signature, hash) {\n  signature = removeLeading0x(signature); // split into v-value and sig\n\n  var sigOnly = signature.substring(0, signature.length - 2); // all but last 2 chars\n\n  var vValue = signature.slice(-2); // last 2 chars\n\n  var recoveryNumber = vValue === '1c' ? 1 : 0;\n  var pubKey = uint8ArrayToHex(ecdsaRecover(hexToUnit8Array(sigOnly), recoveryNumber, hexToUnit8Array(removeLeading0x(hash)), false)); // remove trailing '04'\n\n  pubKey = pubKey.slice(2);\n  return pubKey;\n}"]},"metadata":{},"sourceType":"module"}