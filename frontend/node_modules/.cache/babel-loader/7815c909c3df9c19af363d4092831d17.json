{"ast":null,"code":"import { ethers, Contract } from 'ethers';\nimport PaymentProcessor from './contracts/PaymentProcessor.json';\nimport Usdt from './contracts/usdt.json';\n\nconst getBlockchain = () => {\n  new Promise((resolve, reject) => {\n    window.addEventListener('load', async () => {\n      alert(JSON.stringify(window.ethereum));\n\n      if (window.ethereum) {\n        await window.ethereum.enable();\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner();\n        const paymentProcessor = new Contract(PaymentProcessor.networks[window.ethereum.networkVersion].address, PaymentProcessor.abi, signer);\n        const usdt = new Contract(Usdt.networks[window.ethereum.networkVersion].address, Usdt.abi, signer);\n        resolve({\n          provider,\n          paymentProcessor,\n          usdt\n        });\n      }\n\n      resolve({\n        provider: undefined,\n        paymentProcessor: undefined,\n        usdt: undefined\n      });\n    });\n  });\n};\n\nexport default getBlockchain;","map":{"version":3,"sources":["/Users/salihcemil/Desktop/projects/ecommerce/frontend/src/ethereum.js"],"names":["ethers","Contract","PaymentProcessor","Usdt","getBlockchain","Promise","resolve","reject","window","addEventListener","alert","JSON","stringify","ethereum","enable","provider","providers","Web3Provider","signer","getSigner","paymentProcessor","networks","networkVersion","address","abi","usdt","undefined"],"mappings":"AAAA,SAAQA,MAAR,EAAgBC,QAAhB,QAA+B,QAA/B;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,IAAP,MAAiB,uBAAjB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AACxB,MAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7BC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AACxCC,MAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeJ,MAAM,CAACK,QAAtB,CAAD,CAAL;;AACA,UAAGL,MAAM,CAACK,QAAV,EAAmB;AACf,cAAML,MAAM,CAACK,QAAP,CAAgBC,MAAhB,EAAN;AACA,cAAMC,QAAQ,GAAG,IAAIf,MAAM,CAACgB,SAAP,CAAiBC,YAArB,CAAkCT,MAAM,CAACK,QAAzC,CAAjB;AACA,cAAMK,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AAEA,cAAMC,gBAAgB,GAAG,IAAInB,QAAJ,CACrBC,gBAAgB,CAACmB,QAAjB,CAA0Bb,MAAM,CAACK,QAAP,CAAgBS,cAA1C,EAA0DC,OADrC,EAErBrB,gBAAgB,CAACsB,GAFI,EAGrBN,MAHqB,CAAzB;AAMA,cAAMO,IAAI,GAAG,IAAIxB,QAAJ,CACTE,IAAI,CAACkB,QAAL,CAAcb,MAAM,CAACK,QAAP,CAAgBS,cAA9B,EAA8CC,OADrC,EAETpB,IAAI,CAACqB,GAFI,EAGTN,MAHS,CAAb;AAKAZ,QAAAA,OAAO,CAAC;AAACS,UAAAA,QAAD;AAAWK,UAAAA,gBAAX;AAA6BK,UAAAA;AAA7B,SAAD,CAAP;AACH;;AACDnB,MAAAA,OAAO,CAAC;AAACS,QAAAA,QAAQ,EAAEW,SAAX;AAAsBN,QAAAA,gBAAgB,EAAEM,SAAxC;AAAmDD,QAAAA,IAAI,EAAEC;AAAzD,OAAD,CAAP;AACH,KArBD;AAsBH,GAvBD;AAwBH,CAzBD;;AA0BA,eAAetB,aAAf","sourcesContent":["import {ethers, Contract} from 'ethers';\nimport PaymentProcessor from './contracts/PaymentProcessor.json';\nimport Usdt from './contracts/usdt.json';\n\nconst getBlockchain = () => {\n    new Promise((resolve, reject) => {\n        window.addEventListener('load', async () => {\n            alert(JSON.stringify(window.ethereum));\n            if(window.ethereum){\n                await window.ethereum.enable();\n                const provider = new ethers.providers.Web3Provider(window.ethereum);\n                const signer = provider.getSigner();\n\n                const paymentProcessor = new Contract(\n                    PaymentProcessor.networks[window.ethereum.networkVersion].address,\n                    PaymentProcessor.abi,\n                    signer\n                );\n\n                const usdt = new Contract(\n                    Usdt.networks[window.ethereum.networkVersion].address,\n                    Usdt.abi,\n                    signer\n                );\n                resolve({provider, paymentProcessor, usdt});\n            }\n            resolve({provider: undefined, paymentProcessor: undefined, usdt: undefined});\n        });\n    });\n}\nexport default getBlockchain;"]},"metadata":{},"sourceType":"module"}