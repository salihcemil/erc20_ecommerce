{"ast":null,"code":"import { ethers, Contract } from 'ethers';\nimport PaymentProcessor from './contracts/PaymentProcessor.json';\nimport Usdt from './contracts/usdt.json';\n\nconst getBlockchain = () => {\n  new Promise((resolve, reject) => {\n    window.addEventListener('load', async () => {\n      if (window.ethereum) {\n        console.log(window.ethereum);\n        await window.ethereum.enable();\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner();\n        console.log(signer);\n        const paymentProcessor = new Contract(PaymentProcessor.networks[window.ethereum.networkVersion].address, PaymentProcessor.abi, signer);\n        console.log(paymentProcessor);\n        const usdt = new Contract(Usdt.networks[window.ethereum.networkVersion].address, Usdt.abi, signer);\n        console.log(usdt);\n        resolve({\n          provider,\n          paymentProcessor,\n          usdt\n        });\n      }\n\n      resolve({\n        provider: undefined,\n        paymentProcessor: undefined,\n        usdt: undefined\n      });\n    });\n  });\n};\n\nexport default getBlockchain;","map":{"version":3,"sources":["/Users/salihcemil/Desktop/projects/ecommerce/frontend/src/ethereum.js"],"names":["ethers","Contract","PaymentProcessor","Usdt","getBlockchain","Promise","resolve","reject","window","addEventListener","ethereum","console","log","enable","provider","providers","Web3Provider","signer","getSigner","paymentProcessor","networks","networkVersion","address","abi","usdt","undefined"],"mappings":"AAAA,SAAQA,MAAR,EAAgBC,QAAhB,QAA+B,QAA/B;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,IAAP,MAAiB,uBAAjB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AACxB,MAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7BC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;AAExC,UAAGD,MAAM,CAACE,QAAV,EAAmB;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACE,QAAnB;AACA,cAAMF,MAAM,CAACE,QAAP,CAAgBG,MAAhB,EAAN;AACA,cAAMC,QAAQ,GAAG,IAAId,MAAM,CAACe,SAAP,CAAiBC,YAArB,CAAkCR,MAAM,CAACE,QAAzC,CAAjB;AACA,cAAMO,MAAM,GAAGH,QAAQ,CAACI,SAAT,EAAf;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AAEA,cAAME,gBAAgB,GAAG,IAAIlB,QAAJ,CACrBC,gBAAgB,CAACkB,QAAjB,CAA0BZ,MAAM,CAACE,QAAP,CAAgBW,cAA1C,EAA0DC,OADrC,EAErBpB,gBAAgB,CAACqB,GAFI,EAGrBN,MAHqB,CAAzB;AAKAN,QAAAA,OAAO,CAACC,GAAR,CAAYO,gBAAZ;AAEA,cAAMK,IAAI,GAAG,IAAIvB,QAAJ,CACTE,IAAI,CAACiB,QAAL,CAAcZ,MAAM,CAACE,QAAP,CAAgBW,cAA9B,EAA8CC,OADrC,EAETnB,IAAI,CAACoB,GAFI,EAGTN,MAHS,CAAb;AAKAN,QAAAA,OAAO,CAACC,GAAR,CAAYY,IAAZ;AAEAlB,QAAAA,OAAO,CAAC;AAACQ,UAAAA,QAAD;AAAWK,UAAAA,gBAAX;AAA6BK,UAAAA;AAA7B,SAAD,CAAP;AACH;;AACDlB,MAAAA,OAAO,CAAC;AAACQ,QAAAA,QAAQ,EAAEW,SAAX;AAAsBN,QAAAA,gBAAgB,EAAEM,SAAxC;AAAmDD,QAAAA,IAAI,EAAEC;AAAzD,OAAD,CAAP;AACH,KA1BD;AA2BH,GA5BD;AA6BH,CA9BD;;AA+BA,eAAerB,aAAf","sourcesContent":["import {ethers, Contract} from 'ethers';\nimport PaymentProcessor from './contracts/PaymentProcessor.json';\nimport Usdt from './contracts/usdt.json';\n\nconst getBlockchain = () => {\n    new Promise((resolve, reject) => {\n        window.addEventListener('load', async () => {\n            \n            if(window.ethereum){\n                console.log(window.ethereum);\n                await window.ethereum.enable();\n                const provider = new ethers.providers.Web3Provider(window.ethereum);\n                const signer = provider.getSigner();\n                console.log(signer);\n\n                const paymentProcessor = new Contract(\n                    PaymentProcessor.networks[window.ethereum.networkVersion].address,\n                    PaymentProcessor.abi,\n                    signer\n                );\n                console.log(paymentProcessor);\n\n                const usdt = new Contract(\n                    Usdt.networks[window.ethereum.networkVersion].address,\n                    Usdt.abi,\n                    signer\n                );\n                console.log(usdt);\n                \n                resolve({provider, paymentProcessor, usdt});\n            }\n            resolve({provider: undefined, paymentProcessor: undefined, usdt: undefined});\n        });\n    });\n}\nexport default getBlockchain;"]},"metadata":{},"sourceType":"module"}